<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ff6b81" />
  <title>Surprise Mimi</title>
  <style>
    :root{ --bg:#fffaf7; --txt:#333; --dur:850ms; }
    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0; background:var(--bg); color:var(--txt);
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      height:100dvh; overflow:hidden; text-align:center; font-family:Arial, sans-serif;
    }
    img{
      max-width:90vw; max-height:70vh; border-radius:10px;
      box-shadow:0 4px 15px rgba(0,0,0,.2); user-select:none; -webkit-user-drag:none;
    }
    p{ font-size:1.5em; margin-top:20px; padding:0 20px; }
    .container{ cursor:pointer; position:relative; }

    /* Slide d‚Äôaccueil (plein √©cran, sans image) */
    .intro {
      width:90vw; height:70vh; border-radius:12px;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      background: radial-gradient(800px 500px at 50% 20%, #201a1b, #0a0a0a);
      color:#fff; box-shadow:0 4px 15px rgba(0,0,0,.2);
      padding:24px; text-align:center;
    }
    .intro h1 { margin:0 0 8px; font-size:clamp(24px,6vw,40px); }
    .intro .badge { margin-bottom:10px; color:#ffd7de }
    .intro .hint { margin-top:10px; opacity:.8; font-size:14px }

    /* Overlay c≈ìur blanc */
    .overlay{
      position:fixed; inset:0; display:grid; place-items:center;
      pointer-events:none; opacity:0; transition:opacity 120ms ease;
    }
    .overlay.active{ opacity:1; }
    .heart{
      width:20vmin; aspect-ratio:1; background:#fff;
      -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 86 C 20 66, 5 50, 5 31 C 5 18, 16 10, 27 10 C 36 10, 43 15, 50 23 C 57 15, 64 10, 73 10 C 84 10, 95 18, 95 31 C 95 50, 80 66, 50 86 Z" fill="black"/></svg>') center / contain no-repeat;
              mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 86 C 20 66, 5 50, 5 31 C 5 18, 16 10, 27 10 C 36 10, 43 15, 50 23 C 57 15, 64 10, 73 10 C 84 10, 95 18, 95 31 C 95 50, 80 66, 50 86 Z" fill="black"/></svg>') center / contain no-repeat;
      transform: scale(0.05);
    }
    .zoom{ animation: heartZoom var(--dur) ease forwards; }
    @keyframes heartZoom{ from{ transform:scale(0.05) } to{ transform:scale(8) } }

    /* Bouton mute (optionnel) */
    #mute-btn {
      position: fixed; top: 10px; right: 10px; z-index: 10;
      background: rgba(0,0,0,0.6); color: white; border: none; padding: 8px 12px;
      border-radius: 20px; font-size: 14px; cursor: pointer;
    }
  </style>
</head>
<body onclick="nextSlide()">
  <button id="mute-btn" onclick="toggleMute(event)">üîä Son</button>

  <div class="container">
    <!-- Ici on alterne entre intro (slide 0) et image -->
    <div id="intro" class="intro">
      <div class="badge">üíù Mimi ‚Ä¢ 28 ans</div>
      <h1>Bienvenue sur l‚Äôapp de Mimi</h1>
      <p>Un petit voyage en 8 photos‚Ä¶ et une surprise √† la fin ‚ú®</p>
      <p class="hint">üëâ Touchez l‚Äô√©cran pour commencer (musique + c≈ìur)</p>
    </div>

    <img id="slide-img" src="" alt="" style="display:none" />
    <p id="slide-text" style="display:none"></p>
  </div>

  <!-- C≈ìur blanc -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div id="heart" class="heart"></div>
  </div>

  <!-- Audio (d√©marre au premier clic) -->
  <audio id="music" src="anniversaire_lingala_96kbps.mp3" loop></audio>

  <script>
    // slide 0 = accueil (type:intro)
    const slides = [
      { type:'intro' }, // accueil
      {"img":"https://i.imgur.com/DCDNgl0.jpeg","text":"Tu es belle, m√™me dans la plus simple des versions de toi."},
      {"img":"https://i.imgur.com/b3LdfWF.jpeg","text":"Toi, les photos, c‚Äôest une histoire d‚Äôamour‚Ä¶ et chaque clich√© est une ≈ìuvre."},
      {"img":"https://i.imgur.com/Fshz30s.jpeg","text":"Ta gentillesse √©claire mes journ√©es comme un soleil doux."},
      {"img":"https://i.imgur.com/VzijnKr.jpeg","text":"Derri√®re ton regard tendre, il y a une femme forte, qui avance toujours."},
      {"img":"https://i.imgur.com/lmDRmCC.jpeg","text":"M√™me au travail, tu rayonnes‚Ä¶ ton s√©rieux m‚Äôimpressionne."},
      {"img":"https://i.imgur.com/lI71y3V.jpeg","text":"Toi + Moi = Nous. Et c‚Äôest ma plus belle √©quation."},
      {"img":"https://i.imgur.com/ILIxWIL.jpeg","text":"Hey toi, l√†, derri√®re ton √©cran‚Ä¶ il para√Æt que c‚Äôest ton anniversaire üéâüëÄ"},
      {"img":"https://i.imgur.com/Xkn7Wtl.jpeg","text":"Chaque seconde √† tes c√¥t√©s est pr√©cieuse. Samsung Galaxy Watch 7... rien que pour toi ‚ù§Ô∏è"}
    ];

    let current = 0;
    let musicStarted = false;

    const intro = document.getElementById('intro');
    const baseImg = document.getElementById('slide-img');
    const baseText = document.getElementById('slide-text');
    const overlay = document.getElementById('overlay');
    const heart = document.getElementById('heart');
    const music = document.getElementById('music');
    const muteBtn = document.getElementById('mute-btn');

    function showSlide(idx){
      const s = slides[idx];
      if (s.type === 'intro') {
        intro.style.display = 'flex';
        baseImg.style.display = 'none';
        baseText.style.display = 'none';
      } else {
        intro.style.display = 'none';
        baseImg.style.display = 'block';
        baseText.style.display = 'block';
        baseImg.src = s.img;
        baseText.textContent = s.text;
      }
    }

    // Affiche l‚Äôaccueil au chargement
    showSlide(0);

    function nextSlide(){
      // 1er clic : lancer la musique
      if (!musicStarted) {
        music.play().catch(()=>{});
        musicStarted = true;
      }

      const next = (current + 1) % slides.length;

      // Lancer la transition c≈ìur
      overlay.classList.add('active');
      heart.classList.remove('zoom'); void heart.offsetWidth; heart.classList.add('zoom');

      const dur = 850;
      setTimeout(() => {
        current = next;
        showSlide(current);
      }, Math.floor(dur * 0.75));

      setTimeout(() => {
        overlay.classList.remove('active');
      }, dur + 80);
    }

    function toggleMute(e){
      e.stopPropagation();
      music.muted = !music.muted;
      muteBtn.textContent = music.muted ? "üîá Muet" : "üîä Son";
    }
  </script>
</body>
</html>
